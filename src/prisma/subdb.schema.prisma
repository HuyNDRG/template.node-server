generator client {
  provider = "prisma-client-js"
  output   = "./generated/subdb"
}

datasource db {
  provider = "mysql"
  url      = env("PRISMA_DB_SUB")
}

model black_list {
  customer_id String   @db.VarChar(16)
  driver_id   String   @db.VarChar(16)
  note        String?  @db.VarChar(500)
  created_at  DateTime @default(now()) @db.Timestamp(0)

  @@id([customer_id, driver_id])
}

model booking_check {
  id           BigInt                @id @default(autoincrement())
  booking_id   String                @db.VarChar(20)
  count_call   Boolean               @default(true)
  driver_id    String?               @db.VarChar(15)
  list_call    Json?
  cur_location Unsupported("point")?
  distance     Float?                @db.Float
  created_at   DateTime              @default(now()) @db.Timestamp(0)

  @@index([booking_id], map: "idx_booking_id")
}

model booking_pm {
  booking_id String   @id @db.VarChar(20)
  amount     Int      @default(0)
  url_pay    String   @db.VarChar(455)
  created_at DateTime @default(now()) @db.DateTime(0)
}

model booking_qr {
  booking_id String   @id @db.VarChar(20)
  order_id   String?  @unique(map: "order_id_UNIQUE") @db.VarChar(45)
  qr_code    String   @db.VarChar(225)
  amount     Int      @default(0)
  expiration Int      @db.UnsignedInt
  created_at DateTime @default(now()) @db.DateTime(0)
}

model coordinator_out {
  id           BigInt   @id @default(autoincrement())
  office_id    Int
  phone_number String   @db.VarChar(15)
  line         Boolean
  switchboard  Int      @db.SmallInt
  created_at   DateTime @default(now()) @db.Timestamp(0)
}

model count_ds {
  id         Int      @id @default(autoincrement())
  t5         Int
  t8         Int
  t10        Int
  t12        Int
  t15        Int
  created_at DateTime @db.DateTime(0)
}

model customer_group {
  id         Int      @id @default(autoincrement()) @db.UnsignedInt
  office_id  Int?     @db.UnsignedInt
  parent_id  Int?
  name       String   @db.VarChar(255)
  list       Json?
  deleted    Boolean  @default(false)
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @default(now()) @db.Timestamp(0)
}

model customer_history {
  historyID     BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  id            Int
  customer_id   String   @db.VarChar(16)
  phone_number  String?  @db.VarChar(15)
  type          Boolean  @default(false)
  start_address String   @db.VarChar(255)
  end_address   String?  @db.VarChar(255)
  start_point   String   @db.VarChar(45)
  end_point     String?  @db.VarChar(45)
  status        Boolean  @default(false)
  status_b      Boolean? @default(false)
  vh_code       String?  @db.VarChar(45)
  list_vh       String?  @db.VarChar(45)
  created_at    DateTime @default(now()) @db.Timestamp(0)

  @@unique([id, customer_id], map: "unique_idx")
  @@index([phone_number], map: "phone_idx")
}

model customer_log {
  customer_id String               @db.VarChar(16)
  created_at  DateTime             @default(now()) @db.Timestamp(0)
  location    Unsupported("point")
  app_os      Boolean              @default(false)
  app_version String               @db.VarChar(10)
  phone_name  String?              @db.VarChar(200)
  phone_os    String?              @db.VarChar(25)

  @@id([customer_id, created_at])
}

model customer_personal_place {
  id          Int                  @id @default(autoincrement()) @db.UnsignedInt
  customer_id String               @db.VarChar(16)
  type        Boolean              @default(false)
  coordinate  Unsupported("point")
  text        String?              @db.VarChar(255)
  geocode     String               @db.VarChar(255)
  regionName  String?              @db.VarChar(45)
  deleted     Boolean              @default(false)
  place_id    String?              @db.VarChar(225)
  created_at  DateTime             @default(now()) @db.Timestamp(0)
  updated_at  DateTime             @default(now()) @db.Timestamp(0)
}

model customer_recent_place {
  id          Int                  @id @default(autoincrement()) @db.UnsignedInt
  customer_id String               @db.VarChar(16)
  coordinate  Unsupported("point")
  text        String?              @db.VarChar(255)
  geocode     String               @db.VarChar(255)
  regionName  String?              @db.VarChar(45)
  place_id    String?              @db.VarChar(225)
  is_favorite Boolean              @default(false)
  deleted     Boolean              @default(false)
  create_at   DateTime             @default(now()) @db.Timestamp(0)
  update_at   DateTime             @default(now()) @db.Timestamp(0)
}

model distance_matrix {
  id          Int      @id @default(autoincrement())
  length      Boolean  @default(true)
  response    String   @db.VarChar(10000)
  tms         Int      @default(0)
  status_code String   @default("OK") @db.VarChar(10)
  provider    String   @default("GG") @db.VarChar(5)
  region      String   @default("SG") @db.VarChar(5)
  created_at  DateTime @default(now()) @db.DateTime(0)
}

model driver_act {
  id        BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  office_id Int
  driver_id String   @db.VarChar(15)
  amount    Int
  quantity  Int
  ddate     DateTime @db.Date
  dweek     Int
  dyear     Int

  @@index([driver_id], map: "idx_did")
  @@index([office_id], map: "idx_office")
}

model driver_activity {
  id         Int      @id @default(autoincrement())
  driver_id  String   @db.VarChar(15)
  type       Boolean  @default(false)
  content    String?  @db.VarChar(45)
  office_id  Int?
  vehicle_id Int?
  created_at DateTime @default(now()) @db.Timestamp(0)

  @@index([driver_id], map: "idx_driver")
}

model driver_change {
  driver_change_id Int      @id @default(autoincrement())
  driver_id        String   @db.VarChar(16)
  office_id        Int
  new_phone        String   @db.VarChar(15)
  old_phone        String   @db.VarChar(15)
  content          String   @db.VarChar(255)
  created_at       DateTime @default(now()) @db.Timestamp(0)

  @@index([driver_id], map: "idx_dc")
}

model driver_check {
  id         Int      @id @default(autoincrement())
  total      Int      @default(0)
  hanoi      Int      @default(0)
  namdinh    Int      @default(0)
  lamdong    Int      @default(0)
  thanhhoa   Int      @default(0)
  created_at DateTime @default(now()) @db.Timestamp(0)
}

model driver_favorite {
  id         Int      @id @default(autoincrement())
  driver_id  String   @db.VarChar(15)
  text       String?  @db.VarChar(145)
  geocode    String   @db.VarChar(245)
  location   String   @db.VarChar(50)
  place_id   String?  @db.VarChar(250)
  type       Boolean  @default(false)
  deleted    Boolean  @default(false)
  created_at DateTime @default(now()) @db.DateTime(0)
}

model driver_group {
  id         Int      @id @default(autoincrement()) @db.UnsignedInt
  office_id  Int      @db.UnsignedInt
  parent_id  Int?
  name       String   @db.VarChar(255)
  list       Json?
  deleted    Boolean  @default(false)
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @default(now()) @db.Timestamp(0)
}

model driver_lock {
  driver_lock_id Int       @id @default(autoincrement()) @db.UnsignedInt
  driver_id      String    @db.VarChar(16)
  office_id      Int
  content        String    @db.VarChar(255)
  supporter      String?   @db.VarChar(45)
  expiried_lock  DateTime? @db.DateTime(0)
  created_at     DateTime  @default(now()) @db.Timestamp(0)

  @@index([driver_id], map: "idx_dl")
}

model driver_log {
  driver_id   String   @db.VarChar(16)
  created_at  DateTime @default(now()) @db.Timestamp(0)
  app_os      Boolean  @default(false)
  app_version String   @db.VarChar(10)
  phone_name  String?  @db.VarChar(225)
  phone_os    String?  @db.VarChar(25)

  @@id([driver_id, created_at])
}

model driver_stat_income {
  id             BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  driver_id      String   @db.VarChar(16)
  office_id      Int      @db.UnsignedSmallInt
  number_of_trip Int      @db.UnsignedSmallInt
  total_income   Int      @db.UnsignedInt
  date           DateTime @db.Date
}

model econtract {
  id             BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  office_id      Int
  booking_id     String   @db.VarChar(20)
  start_time     String   @db.VarChar(20)
  finish_time    String   @db.VarChar(20)
  waypoints      String   @default("||") @db.VarChar(750)
  customer_name  String   @db.VarChar(100)
  customer_phone String   @db.VarChar(15)
  driver_name    String   @db.VarChar(100)
  driver_phone   String   @db.VarChar(15)
  license_plate  String   @db.VarChar(15)
  seat_number    Int      @default(4) @db.TinyInt
  address        String   @db.VarChar(145)
  tax_number     String?  @db.VarChar(25)
  email          String?  @db.VarChar(100)
  distance       Float    @db.Float
  total_price    Int
  discount       Int
  surcharge      Int
  payment_method String   @db.VarChar(45)
  status         Boolean  @default(true)
  created_at     DateTime @default(now()) @db.DateTime(0)
}

model econtract_email {
  id                BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  office_id         Int
  booking_id        String   @db.VarChar(20)
  start_time        String   @db.VarChar(20)
  waypoints         String   @default("||") @db.VarChar(500)
  customer_name     String   @db.VarChar(100)
  customer_phone    String   @db.VarChar(15)
  driver_name       String   @db.VarChar(100)
  driver_phone      String   @db.VarChar(15)
  license_plate     String   @db.VarChar(15)
  seat_number       Int      @default(4) @db.TinyInt
  office_name       String   @db.VarChar(145)
  office_address    String   @db.VarChar(145)
  office_phone      String   @db.VarChar(15)
  office_tax_number String   @db.VarChar(25)
  send_to           String   @db.VarChar(100)
  distance          Float    @db.Float
  total_price       Int
  status            Boolean  @default(true)
  error_code        String?  @db.VarChar(5)
  created_at        DateTime @default(now()) @db.DateTime(0)
}

model employee {
  id           String   @id @db.VarChar(10)
  full_name    String   @db.VarChar(45)
  phone_number String   @unique(map: "phone_number_UNIQUE") @db.VarChar(15)
  os_type      Boolean  @default(false)
  device_token String?  @db.VarChar(255)
  wallet       Int      @default(0)
  created_at   DateTime @default(now()) @db.DateTime(0)
}

model location {
  id        Int     @id @default(autoincrement()) @db.UnsignedInt
  region_id Int     @db.UnsignedInt
  search    String  @db.VarChar(25)
  geocode   String  @db.VarChar(255)
  x         Float   @db.Float
  y         Float   @db.Float
  place_id  String? @db.VarChar(255)

  @@index([x], map: "idx_x")
  @@index([y], map: "idx_y")
}

model locationb {
  id        Int                  @id @default(autoincrement()) @db.UnsignedInt
  region_id Int                  @db.UnsignedInt
  search    String               @db.VarChar(25)
  geocode   String               @db.VarChar(255)
  x         String               @db.VarChar(20)
  y         String               @db.VarChar(20)
  point     Unsupported("point")
  place_id  String?              @db.VarChar(255)

  @@index([point(length: 25)], map: "point")
  @@index([x], map: "x")
  @@index([y], map: "y")
}

model note {
  note_id    Int      @id @default(autoincrement())
  office_id  Int
  user_id    Int
  content    String   @db.VarChar(500)
  deadline   DateTime @db.Date
  deleted    Boolean  @default(false)
  status     Boolean  @default(false)
  created_at DateTime @default(now()) @db.Timestamp(0)
}

model notify {
  notify_id      Int       @id @default(autoincrement()) @db.UnsignedInt
  office_id      Int       @default(1) @db.UnsignedInt
  region_id      Int       @default(2)
  app_os         Boolean   @default(false)
  title          String    @db.VarChar(255)
  body           String    @db.Text
  sub_body       String?   @db.Text
  promotion_code String?   @db.VarChar(10)
  count_call     Boolean   @default(false)
  type           Boolean   @default(false)
  status         Boolean   @default(false)
  image          String?   @db.VarChar(255)
  img_detail     String?   @db.VarChar(255)
  detail_link    String?   @db.VarChar(255)
  role           Boolean
  deleted        Boolean   @default(false)
  send_date      DateTime? @db.DateTime(0)
  list_group     Json?
  count_seen     Int       @default(0)
  count_deleted  Int       @default(0)
  list_seen      String?   @db.MediumText
  list_deleted   String?   @db.MediumText
  is_private     Boolean   @default(false)
  created_at     DateTime  @default(now()) @db.Timestamp(0)
  bl_office      String?   @db.VarChar(100)
  targetID       String?   @db.VarChar(20)
  type_lock      Boolean   @default(false)
  last_lock      Int?      @db.UnsignedInt
}

model office_config {
  id            Int      @id @default(autoincrement())
  office_id     Int      @db.UnsignedInt
  app_code      String?  @db.VarChar(15)
  emddi_app     Boolean  @default(true)
  host_queue_sb String   @default("sdev.emddi.com") @db.VarChar(100)
  created_at    DateTime @default(now()) @db.DateTime(0)
}

model partner_module {
  module_id  Int      @id @default(autoincrement())
  name       String   @db.VarChar(255)
  parent_id  Int
  path_run   String   @db.VarChar(255)
  icon       String   @db.VarChar(20)
  color      String   @db.VarChar(10)
  iorder     Int
  active     Int      @default(1)
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @default(now()) @db.Timestamp(0)
}

model partner_office {
  partner_id  Int
  office_id   Int
  office_name String   @db.VarChar(100)
  status      Boolean  @default(true)
  created_at  DateTime @default(now()) @db.Timestamp(0)

  @@id([partner_id, office_id])
}

model pm_partner {
  id          Int      @id @default(autoincrement())
  pm_name     String   @db.VarChar(500)
  pm_logo     String?  @db.VarChar(225)
  user_name   String   @db.VarChar(25)
  password    String   @db.VarChar(100)
  app_id      String   @db.VarChar(45)
  status      Boolean  @default(true)
  list_module String?  @db.VarChar(1000)
  center_lat  String?  @db.VarChar(45)
  center_lng  String?  @db.VarChar(45)
  created_at  DateTime @default(now()) @db.Timestamp(0)
}

model region {
  region_id Int    @id @default(autoincrement()) @db.UnsignedInt
  office_id Int    @db.UnsignedInt
  name      String @db.VarChar(45)
  x         String @db.VarChar(20)
  y         String @db.VarChar(20)
  city_id   Int    @default(2)
}

model request_log {
  id           Int      @id @unique(map: "id_UNIQUE") @default(autoincrement())
  app_id       Int
  booking_id   String?  @db.VarChar(20)
  phone_number String?  @db.VarChar(15)
  status       String   @db.VarChar(10)
  err_code     String   @default("0") @db.VarChar(10)
  time         Int      @default(0)
  created_at   DateTime @default(now()) @db.DateTime(0)
}

model shb_district {
  id            Int    @id @default(autoincrement())
  province_code String @db.VarChar(45)
  code          String @db.VarChar(45)
  name          String @db.VarChar(45)
  type          String @db.VarChar(45)
}

model shb_lead {
  id                Int      @default(autoincrement()) @db.UnsignedInt
  ts_lead_id        String   @db.VarChar(16)
  office_id         Int
  phone_number      String   @db.VarChar(15)
  national_id       String?  @db.VarChar(20)
  issue_date        String?  @db.VarChar(20)
  issue_place       String?  @db.VarChar(45)
  province          Int
  district          Int?
  address           String?  @db.VarChar(255)
  income_level      Int?
  full_name         String?  @db.VarChar(45)
  loan_purpose_amt  BigInt?
  loan_purpose      String?  @db.VarChar(45)
  loan_term         String?  @db.VarChar(4)
  recent_avg_income String?  @db.VarChar(45)
  company_name      String?  @db.VarChar(45)
  timestamp         String?  @db.VarChar(45)
  lead_status       String?  @db.VarChar(45)
  lead_id           String   @db.VarChar(45)
  created_at        DateTime @default(now()) @db.Timestamp(0)

  @@id([id, created_at])
}

model shb_loan_purpose {
  id   Int    @id @default(autoincrement())
  code String @db.VarChar(45)
  name String @db.VarChar(45)
}

model shb_province {
  id   Int    @id @default(autoincrement())
  code String @db.VarChar(45)
  name String @db.VarChar(45)
  type String @db.VarChar(45)
}

model sms_cskh {
  id           Int      @id @default(autoincrement())
  app_code     String   @default("EMDDI") @db.VarChar(10)
  phone_number String   @db.VarChar(15)
  type         String   @default("OTP") @db.VarChar(5)
  verify_code  String?  @db.VarChar(10)
  status       Boolean  @default(false)
  tms          Int      @default(0)
  created_at   DateTime @default(now()) @db.DateTime(0)
}

model sms_qc {
  id         Int      @id @default(autoincrement()) @db.UnsignedInt
  title      String?  @db.VarChar(145)
  content    String   @db.VarChar(145)
  list_phone String   @db.VarChar(5000)
  status     Boolean  @default(false)
  sent_date  DateTime @db.DateTime(0)
  created_at DateTime @default(now()) @db.DateTime(0)
}

model system_log {
  system_log_id BigInt   @id @default(autoincrement())
  office_id     Int
  user_id       Int
  user_name     String?  @db.VarChar(45)
  full_name     String?  @db.VarChar(50)
  content       String?  @db.VarChar(255)
  client_ip     String   @db.VarChar(100)
  browser_name  String   @db.VarChar(100)
  created_at    DateTime @default(now()) @db.Timestamp(0)

  @@index([office_id], map: "idx_office")
}

model taxi_queue {
  id          Int      @id @default(autoincrement())
  office_id   Int
  name        String   @db.VarChar(100)
  center      String   @db.VarChar(100)
  rd_queue    Int
  rd_book     Int
  address     String?  @db.VarChar(255)
  type        Boolean  @default(true)
  is_taxi     Boolean  @default(false)
  list_driver String?  @db.VarChar(15005)
  active      Boolean  @default(true)
  services    String   @default("||") @db.VarChar(45)
  deleted     Boolean  @default(false)
  dtype       Boolean  @default(false)
  points      String?  @db.VarChar(6000)
  node_order  String?  @db.VarChar(45)
  created_at  DateTime @default(now()) @db.Timestamp(0)
}

model driver_lock_partner {
  id            Int       @id @default(autoincrement())
  office_id     Int
  driver_id     String    @db.VarChar(15)
  user_id       Int?
  content       String?   @db.VarChar(145)
  expiried_lock DateTime? @db.DateTime(0)
  type          Boolean   @default(false)
  created_at    DateTime  @default(now()) @db.DateTime(0)
}
